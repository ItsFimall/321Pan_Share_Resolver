import{ak as i,aK as Ee,a6 as Ne,c as I,r as a,aX as qe,ag as M,ai as oe,ae as V,J,a8 as Ke,aY as Qe,aZ as Pe,v as B,_ as Ie,ac as et,ad as ve,az as tt,x as nt,a0 as ne,y as ot,g as rt,m as at,a as lt,aP as it,u as P,a_ as st,a$ as ct,aF as ge,b0 as dt,b1 as ut,h as $e,Q as ft,au as mt,aN as vt,b2 as gt,b3 as pt,Z as ee}from"./index-DbFejQx_.js";import{w as bt}from"./PurePanel-BkTu0obd.js";function pe(t){const{closable:e,closeIcon:n}=t||{};return i.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let o={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(o=Object.assign(Object.assign({},o),e)),o},[e,n])}function be(){const t={};for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.forEach(r=>{r&&Object.keys(r).forEach(u=>{r[u]!==void 0&&(t[u]=r[u])})}),t}const ht={};function Ct(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ht;const o=pe(t),r=pe(e),u=typeof o!="boolean"?!!(o!=null&&o.disabled):!1,l=i.useMemo(()=>Object.assign({closeIcon:i.createElement(Ee,null)},n),[n]),s=i.useMemo(()=>o===!1?!1:o?be(l,r,o):r===!1?!1:r?be(l,r):l.closable?l:!1,[o,r,l]);return i.useMemo(()=>{if(s===!1)return[!1,null,u];const{closeIconRender:g}=l,{closeIcon:b}=s;let c=b;if(c!=null){g&&(c=g(b));const d=Ne(s,!0);Object.keys(d).length&&(c=i.isValidElement(c)?i.cloneElement(c,d):i.createElement("span",Object.assign({},d),c))}return[!0,c,u]},[s,l])}const he=t=>t?typeof t=="function"?t():t:null,yt=t=>{let{title:e,content:n,prefixCls:o}=t;return!e&&!n?null:a.createElement(a.Fragment,null,e&&a.createElement("div",{className:`${o}-title`},e),n&&a.createElement("div",{className:`${o}-inner-content`},n))},xt=t=>{const{hashId:e,prefixCls:n,className:o,style:r,placement:u="top",title:l,content:s,children:g}=t,b=he(l),c=he(s),d=I(e,n,`${n}-pure`,`${n}-placement-${u}`,o);return a.createElement("div",{className:d,style:r},a.createElement("div",{className:`${n}-arrow`}),a.createElement(qe,Object.assign({},t,{className:e,prefixCls:n}),g||a.createElement(yt,{prefixCls:n,title:b,content:c})))};function Ce(t){return t!==null&&oe(t)==="object"}function ye(t,e,n){if(t===!1||e===!1&&(!Ce(t)||!t.closeIcon))return null;var o=typeof e!="boolean"?e:void 0;if(Ce(t)){var r;return M(M({},t),{},{closeIcon:(r=t.closeIcon)!==null&&r!==void 0?r:o})}return n||t||e?{closeIcon:o}:"empty"}function wt(t,e,n,o){return a.useMemo(function(){var r=ye(t,e,!1),u=ye(n,o,!0);return r!=="empty"?r:u},[n,o,t,e])}function Et(t){var e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,o=t.getBoundingClientRect(),r=o.top,u=o.right,l=o.bottom,s=o.left;return r>=0&&s>=0&&u<=e&&l<=n}function Nt(t,e,n){var o;return(o=n??e)!==null&&o!==void 0?o:t===null?"center":"bottom"}function Pt(t){return typeof t=="number"&&!Number.isNaN(t)}function It(t,e,n,o){var r=a.useState(void 0),u=V(r,2),l=u[0],s=u[1];J(function(){var v=typeof t=="function"?t():t;s(v||null)});var g=a.useState(null),b=V(g,2),c=b[0],d=b[1],p=Ke(function(){if(l){!Et(l)&&e&&l.scrollIntoView(o);var v=l.getBoundingClientRect(),m=v.left,f=v.top,E=v.width,x=v.height,$={left:m,top:f,width:E,height:x,radius:0};d(function(O){return JSON.stringify(O)!==JSON.stringify($)?$:O})}else d(null)}),h=function(m){var f;return(f=Array.isArray(n==null?void 0:n.offset)?n==null?void 0:n.offset[m]:n==null?void 0:n.offset)!==null&&f!==void 0?f:6};J(function(){return p(),window.addEventListener("resize",p),function(){window.removeEventListener("resize",p)}},[l,e,p]);var y=a.useMemo(function(){if(!c)return c;var v=h(0),m=h(1),f=Pt(n==null?void 0:n.radius)?n==null?void 0:n.radius:2;return{left:c.left-v,top:c.top-m,width:c.width+v*2,height:c.height+m*2,radius:f}},[c,n]);return[y,l]}var Z={fill:"transparent",pointerEvents:"auto"},$t=function(e){var n=e.prefixCls,o=e.rootClassName,r=e.pos,u=e.showMask,l=e.style,s=l===void 0?{}:l,g=e.fill,b=g===void 0?"rgba(0,0,0,0.5)":g,c=e.open,d=e.animated,p=e.zIndex,h=e.disabledInteraction,y=Qe(),v="".concat(n,"-mask-").concat(y),m=oe(d)==="object"?d==null?void 0:d.placeholder:d,f=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),E=f?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return i.createElement(Pe,{open:c,autoLock:!0},i.createElement("div",{className:I("".concat(n,"-mask"),o),style:M({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:p,pointerEvents:r&&!h?"none":"auto"},s)},u?i.createElement("svg",{style:{width:"100%",height:"100%"}},i.createElement("defs",null,i.createElement("mask",{id:v},i.createElement("rect",B({x:"0",y:"0"},E,{fill:"white"})),r&&i.createElement("rect",{x:r.left,y:r.top,rx:r.radius,width:r.width,height:r.height,fill:"black",className:m?"".concat(n,"-placeholder-animated"):""}))),i.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:b,mask:"url(#".concat(v,")")}),r&&i.createElement(i.Fragment,null,i.createElement("rect",B({},Z,{x:"0",y:"0",width:"100%",height:r.top})),i.createElement("rect",B({},Z,{x:"0",y:"0",width:r.left,height:"100%"})),i.createElement("rect",B({},Z,{x:"0",y:r.top+r.height,width:"100%",height:"calc(100vh - ".concat(r.top+r.height,"px)")})),i.createElement("rect",B({},Z,{x:r.left+r.width,y:"0",width:"calc(100vw - ".concat(r.left+r.width,"px)"),height:"100%"})))):null))},Ot=[0,0],xe={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function Oe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e={};return Object.keys(xe).forEach(function(n){e[n]=M(M({},xe[n]),{},{autoArrow:t,targetOffset:Ot})}),e}Oe();function St(t){var e,n=t.prefixCls,o=t.current,r=t.total,u=t.title,l=t.description,s=t.onClose,g=t.onPrev,b=t.onNext,c=t.onFinish,d=t.className,p=t.closable,h=Ne(p||{},!0),y=(e=p==null?void 0:p.closeIcon)!==null&&e!==void 0?e:a.createElement("span",{className:"".concat(n,"-close-x")},"×"),v=!!p;return a.createElement("div",{className:I("".concat(n,"-content"),d)},a.createElement("div",{className:"".concat(n,"-inner")},v&&a.createElement("button",B({type:"button",onClick:s,"aria-label":"Close"},h,{className:"".concat(n,"-close")}),y),a.createElement("div",{className:"".concat(n,"-header")},a.createElement("div",{className:"".concat(n,"-title")},u)),a.createElement("div",{className:"".concat(n,"-description")},l),a.createElement("div",{className:"".concat(n,"-footer")},a.createElement("div",{className:"".concat(n,"-sliders")},r>1?Ie(Array.from({length:r}).keys()).map(function(m,f){return a.createElement("span",{key:m,className:f===o?"active":""})}):null),a.createElement("div",{className:"".concat(n,"-buttons")},o!==0?a.createElement("button",{className:"".concat(n,"-prev-btn"),onClick:g},"Prev"):null,o===r-1?a.createElement("button",{className:"".concat(n,"-finish-btn"),onClick:c},"Finish"):a.createElement("button",{className:"".concat(n,"-next-btn"),onClick:b},"Next")))))}var kt=function(e){var n=e.current,o=e.renderPanel;return a.createElement(a.Fragment,null,typeof o=="function"?o(e,n):a.createElement(St,e))},Rt=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],_t={left:"50%",top:"50%",width:1,height:1},we={block:"center",inline:"center"},Tt=function(e){var n=e.prefixCls,o=n===void 0?"rc-tour":n,r=e.steps,u=r===void 0?[]:r,l=e.defaultCurrent,s=e.current,g=e.onChange,b=e.onClose,c=e.onFinish,d=e.open,p=e.mask,h=p===void 0?!0:p,y=e.arrow,v=y===void 0?!0:y,m=e.rootClassName,f=e.placement,E=e.renderPanel,x=e.gap,$=e.animated,O=e.scrollIntoViewOptions,C=O===void 0?we:O,w=e.zIndex,W=w===void 0?1001:w,U=e.closeIcon,Y=e.closable,A=e.builtinPlacements,F=e.disabledInteraction,q=et(e,Rt),H=a.useRef(),S=ve(0,{value:s,defaultValue:l}),N=V(S,2),k=N[0],re=N[1],_e=ve(void 0,{value:d,postState:function(R){return k<0||k>=u.length?!1:R??!0}}),ae=V(_e,2),_=ae[0],Te=ae[1],je=a.useState(_),le=V(je,2),Be=le[0],Ae=le[1],ie=a.useRef(_);J(function(){_&&(ie.current||re(0),Ae(!0)),ie.current=_},[_]);var T=u[k]||{},Me=T.target,ze=T.placement,Ve=T.style,se=T.arrow,Fe=T.className,K=T.mask,ce=T.scrollIntoViewOptions,Q=ce===void 0?we:ce,Le=T.closeIcon,We=T.closable,He=wt(We,Le,Y,U),L=_&&(K??h),De=Q??C,Xe=It(Me,d,x,De),de=V(Xe,2),ue=de[0],D=de[1],Ge=Nt(D,f,ze),X=D?typeof se>"u"?v:se:!1,G=oe(X)==="object"?X.pointAtCenter:!1;J(function(){var j;(j=H.current)===null||j===void 0||j.forceAlign()},[G,k]);var fe=function(R){re(R),g==null||g(R)},Ze=a.useMemo(function(){return A?typeof A=="function"?A({arrowPointAtCenter:G}):A:Oe(G)},[A,G]);if(D===void 0||!Be)return null;var me=function(){Te(!1),b==null||b(k)},Je=function(){return a.createElement(kt,B({arrow:X,key:"content",prefixCls:o,total:u.length,renderPanel:E,onPrev:function(){fe(k-1)},onNext:function(){fe(k+1)},onClose:me,current:k,onFinish:function(){me(),c==null||c()}},u[k],{closable:He}))},Ue=typeof L=="boolean"?L:!!L,z=typeof L=="boolean"?void 0:L,Ye=function(R){return R||D||document.body};return a.createElement(a.Fragment,null,a.createElement($t,{zIndex:W,prefixCls:o,pos:ue,showMask:Ue,style:z==null?void 0:z.style,fill:z==null?void 0:z.color,open:_,animated:$,rootClassName:m,disabledInteraction:F}),a.createElement(tt,B({},q,{builtinPlacements:Ze,ref:H,popupStyle:Ve,popupPlacement:Ge,popupVisible:_,popupClassName:I(m,Fe),prefixCls:o,popup:Je,forceRender:!1,destroyPopupOnHide:!0,zIndex:W,getTriggerDOMNode:Ye,arrow:!!X}),a.createElement(Pe,{open:_,autoLock:!0},a.createElement("div",{className:I(m,"".concat(o,"-target-placeholder")),style:M(M({},ue||_t),{},{position:"fixed",pointerEvents:"none"})}))))};function te(t){return t!=null}const Se=t=>{var e,n;const{stepProps:o,current:r,type:u,indicatorsRender:l}=t,{prefixCls:s,total:g=1,title:b,onClose:c,onPrev:d,onNext:p,onFinish:h,cover:y,description:v,nextButtonProps:m,prevButtonProps:f,type:E,closable:x}=o,$=E??u,O=i.createElement("button",{type:"button",onClick:c,className:`${s}-close`},(x==null?void 0:x.closeIcon)||i.createElement(Ee,{className:`${s}-close-icon`})),C=r===g-1,w=()=>{var N;d==null||d(),(N=f==null?void 0:f.onClick)===null||N===void 0||N.call(f)},W=()=>{var N;C?h==null||h():p==null||p(),(N=m==null?void 0:m.onClick)===null||N===void 0||N.call(m)},U=te(b)?i.createElement("div",{className:`${s}-header`},i.createElement("div",{className:`${s}-title`},b)):null,Y=te(v)?i.createElement("div",{className:`${s}-description`},v):null,A=te(y)?i.createElement("div",{className:`${s}-cover`},y):null;let F;l?F=l(r,g):F=Ie(Array.from({length:g}).keys()).map((N,k)=>i.createElement("span",{key:N,className:I(k===r&&`${s}-indicator-active`,`${s}-indicator`)}));const q=$==="primary"?"default":"primary",H={type:"default",ghost:$==="primary"},[S]=nt("Tour",ot.Tour);return i.createElement("div",{className:`${s}-content`},i.createElement("div",{className:`${s}-inner`},x&&O,A,U,Y,i.createElement("div",{className:`${s}-footer`},g>1&&i.createElement("div",{className:`${s}-indicators`},F),i.createElement("div",{className:`${s}-buttons`},r!==0?i.createElement(ne,Object.assign({},H,f,{onClick:w,size:"small",className:I(`${s}-prev-btn`,f==null?void 0:f.className)}),(e=f==null?void 0:f.children)!==null&&e!==void 0?e:S==null?void 0:S.Previous):null,i.createElement(ne,Object.assign({type:q},m,{onClick:W,size:"small",className:I(`${s}-next-btn`,m==null?void 0:m.className)}),(n=m==null?void 0:m.children)!==null&&n!==void 0?n:C?S==null?void 0:S.Finish:S==null?void 0:S.Next)))))},jt=t=>{const{componentCls:e,padding:n,paddingXS:o,borderRadius:r,borderRadiusXS:u,colorPrimary:l,colorFill:s,indicatorHeight:g,indicatorWidth:b,boxShadowTertiary:c,zIndexPopup:d,colorBgElevated:p,fontWeightStrong:h,marginXS:y,colorTextLightSolid:v,tourBorderRadius:m,colorWhite:f,primaryNextBtnHoverBg:E,closeBtnSize:x,motionDurationSlow:$,antCls:O,primaryPrevBtnBg:C}=t;return[{[e]:Object.assign(Object.assign({},lt(t)),{position:"absolute",zIndex:d,maxWidth:"fit-content",visibility:"visible",width:520,"--antd-arrow-background-color":p,"&-pure":{maxWidth:"100%",position:"relative"},[`&${e}-hidden`]:{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:m,boxShadow:c,position:"relative",backgroundColor:p,border:"none",backgroundClip:"padding-box",[`${e}-close`]:Object.assign({position:"absolute",top:n,insetInlineEnd:n,color:t.colorIcon,background:"none",border:"none",width:x,height:x,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:t.colorIconHover,backgroundColor:t.colorBgTextHover},"&:active":{backgroundColor:t.colorBgTextActive}},it(t)),[`${e}-cover`]:{textAlign:"center",padding:`${P(t.calc(n).add(x).add(o).equal())} ${P(n)} 0`,img:{width:"100%"}},[`${e}-header`]:{padding:`${P(n)} ${P(n)} ${P(o)}`,width:`calc(100% - ${P(x)})`,wordBreak:"break-word",[`${e}-title`]:{fontWeight:h}},[`${e}-description`]:{padding:`0 ${P(n)}`,wordWrap:"break-word"},[`${e}-footer`]:{padding:`${P(o)} ${P(n)} ${P(n)}`,textAlign:"end",borderRadius:`0 0 ${P(u)} ${P(u)}`,display:"flex",[`${e}-indicators`]:{display:"inline-block",[`${e}-indicator`]:{width:b,height:g,display:"inline-block",borderRadius:"50%",background:s,"&:not(:last-child)":{marginInlineEnd:g},"&-active":{background:l}}},[`${e}-buttons`]:{marginInlineStart:"auto",[`${O}-btn`]:{marginInlineStart:y}}}},[`${e}-primary, &${e}-primary`]:{"--antd-arrow-background-color":l,[`${e}-inner`]:{color:v,textAlign:"start",textDecoration:"none",backgroundColor:l,borderRadius:r,boxShadow:c,[`${e}-close`]:{color:v},[`${e}-indicators`]:{[`${e}-indicator`]:{background:C,"&-active":{background:v}}},[`${e}-prev-btn`]:{color:v,borderColor:C,backgroundColor:l,"&:hover":{backgroundColor:C,borderColor:"transparent"}},[`${e}-next-btn`]:{color:l,borderColor:"transparent",background:f,"&:hover":{background:E}}}}}),[`${e}-mask`]:{[`${e}-placeholder-animated`]:{transition:`all ${$}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:t.min(m,st)}}},ct(t,"var(--antd-arrow-background-color)")]},Bt=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70,closeBtnSize:t.fontSize*t.lineHeight,primaryPrevBtnBg:new ge(t.colorTextLightSolid).setAlpha(.15).toRgbString(),primaryNextBtnHoverBg:new ge(t.colorBgTextHover).onBackground(t.colorWhite).toRgbString()},dt({contentRadius:t.borderRadiusLG,limitVerticalRadius:!0})),ut(t)),ke=rt("Tour",t=>{const{borderRadiusLG:e}=t,n=at(t,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:e});return[jt(n)]},Bt);var At=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const Mt=t=>{const{prefixCls:e,current:n=0,total:o=6,className:r,style:u,type:l,closable:s,closeIcon:g}=t,b=At(t,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:c}=a.useContext($e),d=c("tour",e),[p,h,y]=ke(d),[v,m]=Ct({closable:s,closeIcon:g},null,{closable:!0,closeIconRender:f=>a.isValidElement(f)?ft(f,{className:I(f.props.className,`${d}-close-icon`)}):f});return p(a.createElement(xt,{prefixCls:d,hashId:h,className:I(r,`${d}-pure`,l&&`${d}-${l}`,y),style:u},a.createElement(Se,{stepProps:Object.assign(Object.assign({},b),{prefixCls:d,total:o,closable:v?{closeIcon:m}:void 0}),current:n,type:l})))},zt=bt(Mt);var Vt=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n};const Re=t=>{const{prefixCls:e,type:n,rootClassName:o,indicatorsRender:r,steps:u,closeIcon:l}=t,s=Vt(t,["prefixCls","type","rootClassName","indicatorsRender","steps","closeIcon"]),{getPrefixCls:g,direction:b,tour:c}=a.useContext($e),d=g("tour",e),[p,h,y]=ke(d),[,v]=mt(),m=i.useMemo(()=>u==null?void 0:u.map(C=>{var w;return Object.assign(Object.assign({},C),{className:I(C.className,{[`${d}-primary`]:((w=C.type)!==null&&w!==void 0?w:n)==="primary"})})}),[u,n]),f=C=>{var w;return pt({arrowPointAtCenter:(w=C==null?void 0:C.arrowPointAtCenter)!==null&&w!==void 0?w:!0,autoAdjustOverflow:!0,offset:v.marginXXS,arrowWidth:v.sizePopupArrow,borderRadius:v.borderRadius})},E=I({[`${d}-rtl`]:b==="rtl"},h,y,o),x=(C,w)=>i.createElement(Se,{type:n,stepProps:C,current:w,indicatorsRender:r}),[$,O]=vt("Tour",s.zIndex);return p(i.createElement(gt.Provider,{value:O},i.createElement(Tt,Object.assign({},s,{closeIcon:l??(c==null?void 0:c.closeIcon),zIndex:$,rootClassName:E,prefixCls:d,animated:!0,renderPanel:x,builtinPlacements:f,steps:m}))))};Re._InternalPanelDoNotUseOrYouWillBeFired=zt;const Wt=t=>ee.jsxs("div",{children:[ee.jsx(ne,{style:{marginBottom:"8px",marginTop:"8px"},onClick:t.onButtonClick,children:"点我显示保姆级使用教程"}),ee.jsx(Re,{...t})]});export{Wt as default};
